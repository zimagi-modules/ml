data_mixins:
  library:
    class: LibraryMixin
    fields:
      library:
        type: "@django.ForeignKey"
        relation: library
        options:
          "null": true
          on_delete: "@django.CASCADE"
          editable: false

  libraries:
    class: LibraryRelationMixin
    fields:
      libraries:
        type: "@django.ManyToManyField"
        relation: library

data_base:
  library:
    class: LibraryBase
    base: resource
    mixins: [library]
    id_fields: [library_id, name]
    meta:
      unique_together: [library, name]
      scope: library

data:
  library:
    class: Library
    base: environment
    roles:
      edit: [scheduler]
      view: [scheduler, predicter]

command_mixins:
  library:
    class: LibraryMixin
    meta:
      library:
        data: library
        priority: 1

command_base:
  library:
    mixins: [library]
    server_enabled: true
    groups_allowed: [scheduler, predicter]

command:
  library:
    resource: library
    base: library
    base_name: library
    priority: 100
